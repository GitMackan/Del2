"use strict";let coursesEl=document.getElementById("courses"),addButton=document.getElementById("addCourse"),codeInput=document.getElementById("code"),nameInput=document.getElementById("name"),progInput=document.getElementById("prog"),syllabusInput=document.getElementById("syllabus");function getCourses(){coursesEl.innerHTML="",fetch("https://studenter.miun.se/~many2005/dt173g/moment5/api.php").then((e=>e.json())).then((e=>{e.forEach((e=>{coursesEl.innerHTML+=`<li>\n                <span>${e.code}</span>\n                <span>${e.name}</span>\n                <span>${e.prog}</span>\n                <span><a href="${e.syllabus}">LÃ¤nk</a></span>\n                <button id="${e.id}" onClick="deleteCourse(${e.id})">Radera</button>\n            </li>`}))}))}function deleteCourse(e){fetch("https://studenter.miun.se/~many2005/dt173g/moment5/api.php?id="+e,{method:"DELETE"}).then((e=>e.json())).then((e=>{getCourses()})).catch((e=>{console.log("Error: ",e)}))}function addCourse(){let e={code:codeInput.value,name:nameInput.value,prog:progInput.value,syllabus:syllabusInput.value};fetch("https://studenter.miun.se/~many2005/dt173g/moment5/api.php",{method:"POST",body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{getCourses()})).catch((e=>{console.log("Error: ",e)}))}window.addEventListener("load",getCourses),addButton.addEventListener("click",addCourse);